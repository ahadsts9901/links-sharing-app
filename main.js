let timerInterval;Swal.fire({title:"Loading...",html:"I will close in <b></b> milliseconds.",timer:3e3,timerProgressBar:!0,didOpen:()=>{Swal.showLoading();const e=Swal.getHtmlContainer().querySelector("b");timerInterval=setInterval(()=>{e.textContent=Swal.getTimerLeft()},100)},willClose:()=>{clearInterval(timerInterval)}}).then(e=>{e.dismiss,Swal.DismissReason.timer});const firebaseConfig={apiKey:"AIzaSyDDkH9pqIcdWmRlXHdyC2G0z0Lhlej5dCw",authDomain:"links-sharing-b9c2a.firebaseapp.com",projectId:"links-sharing-b9c2a",storageBucket:"links-sharing-b9c2a.appspot.com",messagingSenderId:"606062782904",appId:"1:606062782904:web:c4a1a96a5f42be8236c74d"};firebase.initializeApp(firebaseConfig);var db=firebase.firestore();let section=document.querySelector(".section");function addLink(e){e.preventDefault();let t=document.querySelector(".input").value;db.collection("users").add({link:t,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(e=>{Swal.fire({icon:"success",title:"Added",confirmButtonText:"OK",confirmButtonColor:"#212121"}),renderLink()}).catch(e=>{console.error("Error adding document: ",e)}),document.querySelector(".input").value=""}function renderLink(){section.innerHTML="",db.collection("users").orderBy("timestamp","desc").get().then(function(e){0===e.size?section.innerHTML="<div class='blue'>No Links found</div>":e.forEach(function(e){var t=e.data();let n=document.createElement("div");n.className="rowScroll",section.appendChild(n);let i=document.createElement("a");i.className="scrollX",i.setAttribute("target","_blank"),i.setAttribute("href",`${t.link}`),i.innerText=t.link,n.appendChild(i);let o=document.createElement("div");o.className+=" small-container",n.appendChild(o);let r=t.timestamp?t.timestamp.toDate():new Date,l=document.createElement("p");l.className+=" small",l.innerText=moment(r).fromNow(),o.appendChild(l);let a=document.createElement("p");a.className="bi bi-trash-fill",a.className+=" small",a.addEventListener("click",()=>deleteLink(e.id)),o.appendChild(a)})}).catch(function(e){console.log("Error getting documents: ",e)})}async function deleteLink(e){const{value:t}=await Swal.fire({title:"Enter Your Password",input:"password",inputLabel:"Password",inputPlaceholder:"Enter Your Password",confirmButtonColor:"#212121",confirmButtonText:"Delete URL",inputAttributes:{maxlength:10,autocapitalize:"off",autocorrect:"off"}});"48597555"===t?Swal.fire({title:"Do You Want To Delete It ?",showDenyButton:!0,confirmButtonText:"Delete",denyButtonText:"Don't Delete",confirmButtonColor:"#212121",denyButtonColor:"#212121"}).then(t=>{t.isConfirmed?(Swal.fire({icon:"success",title:"Deleted",confirmButtonText:"OK",confirmButtonColor:"#212121"}),db.collection("users").doc(e).delete().then(()=>{renderLink()}).catch(e=>{console.error("Error deleting document: ",e)})):renderLink()}):Swal.fire({icon:"error",title:"Access Denied",confirmButtonText:"OK",confirmButtonColor:"#212121"})}document.addEventListener("DOMContentLoaded",function(){renderLink()}),document.querySelector("#form").addEventListener("submit",addLink);